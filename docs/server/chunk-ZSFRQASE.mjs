import './polyfills.server.mjs';
import{a as _}from"./chunk-77GHHARG.mjs";import{a as q}from"./chunk-S2TS7G7E.mjs";import"./chunk-QZLY374Y.mjs";import{a as P,c as M,d as D,h as T,i as L,j as R,l as O,n as B}from"./chunk-J4PW23HJ.mjs";import"./chunk-HCOGX7OE.mjs";import{k as S,l as A}from"./chunk-52P3PWSC.mjs";import{l as x}from"./chunk-HIKXIYV6.mjs";import{$ as y,Fb as r,Hb as E,Nb as b,Pa as m,Qb as F,X as C,eb as g,gb as c,kb as f,ob as n,pb as i,qb as h,xb as w,yb as v}from"./chunk-XYGJBAR7.mjs";import"./chunk-VVCT4QZE.mjs";var N=(t,o)=>({"is-valid":t,"is-invalid":o});function k(t,o){t&1&&(n(0,"p",15),r(1,"email is required."),i())}function j(t,o){t&1&&(n(0,"p",15),r(1,"Please enter a valid email address"),i())}function z(t,o){if(t&1&&(n(0,"div",6),g(1,k,2,0,"p",15)(2,j,2,0),i()),t&2){let d,a=v();m(),f(1,(d=a.loginform.get("email"))!=null&&d.getError("required")?1:(d=a.loginform.get("email"))!=null&&d.getError("email")?2:-1)}}function V(t,o){t&1&&(n(0,"p",15),r(1,"password is required."),i())}function G(t,o){t&1&&(n(0,"p",15),r(1,"Password must be at least 6 characters long."),i())}function I(t,o){if(t&1&&(n(0,"div",6),g(1,V,2,0,"p",15)(2,G,2,0),i()),t&2){let d,a=v();m(),f(1,(d=a.loginform.get("password"))!=null&&d.getError("required")?1:(d=a.loginform.get("password"))!=null&&d.getError("pattern")?2:-1)}}function Z(t,o){if(t&1&&(n(0,"div",6),r(1),i()),t&2){let d=v();m(),E(" ",d.errMsg," ")}}function W(t,o){t&1&&(n(0,"span"),h(1,"i",16),i())}var ne=(()=>{let o=class o{constructor(){this.isloading=!1,this._FormBuilder=C(O),this._AuthService=C(q),this._Router=C(S),this.errMsg="",this.loginform=this._FormBuilder.group({email:[null,[_.required(),_.email()]],password:[null,[_.required(),_.pattern({expression:{pattern:/^.{6,}$/}})]]})}onsubmit(){this.loginform.valid?(this.isloading=!0,this.errMsg="",this.loginsubscribe=this._AuthService.setloginform(this.loginform.value).subscribe({next:a=>{a.message=="success"&&(localStorage.setItem("userToken",a.token),this._Router.navigate(["/home"]),this.isloading=!1)},error:a=>{this.errMsg=a.error.message,this.isloading=!1}})):this.loginform.markAllAsTouched()}navigateToRegister(){this._Router.navigate(["/register"])}navigateToFogotPassword(){this._Router.navigate(["/forgotPassword"])}ngOnDestroy(){this.loginsubscribe?.unsubscribe()}};o.\u0275fac=function(U){return new(U||o)},o.\u0275cmp=y({type:o,selectors:[["app-login"]],standalone:!0,features:[b],decls:26,vars:14,consts:[[1,"bg-main-light","p-2","my-5","rounded-4","text-main","login"],[1,"h2","text-center","login-text"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],[1,"w-100","alert","alert-danger","p-1","text-center","mt-2","mb-0","small","fw-bolder"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"text-center","mx-auto","my-2"],["routerLink","/forgotPassword",1,"forgotPass","cursor-pointer","text-main","small"],["type","submit",1,"btn-main","w-100","mb-3",3,"disabled"],[1,"for-and-reg"],[1,"text-main-muted","small"],[1,"register-navigate","fs-6","fw-bolder",3,"click"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(U,e){if(U&1&&(n(0,"section",0)(1,"h1",1),r(2,"Login"),i(),n(3,"form",2),w("ngSubmit",function(){return e.onsubmit()}),n(4,"div",3)(5,"label",4),r(6,"email:"),i(),h(7,"input",5),g(8,z,3,1,"div",6),i(),n(9,"div",3)(10,"label",7),r(11,"password:"),i(),h(12,"input",8),g(13,I,3,1,"div",6),i(),n(14,"div",9)(15,"a",10),r(16,"Forgot Your Password?"),i()(),g(17,Z,2,1,"div",6),n(18,"button",11),r(19," Login "),g(20,W,2,0,"span"),i(),n(21,"div",12)(22,"p",13),r(23,"Don't have an account? "),n(24,"span",14),w("click",function(){return e.navigateToRegister()}),r(25,"Register Now"),i()()()()()),U&2){let l,u,s,p;m(3),c("formGroup",e.loginform),m(4),c("ngClass",F(8,N,!((l=e.loginform.get("email"))!=null&&l.errors)&&(((l=e.loginform.get("email"))==null?null:l.touched)||((l=e.loginform.get("email"))==null?null:l.dirty)),e.errMsg||((l=e.loginform.get("email"))==null?null:l.errors)&&(((l=e.loginform.get("email"))==null?null:l.touched)||((l=e.loginform.get("email"))==null?null:l.dirty)))),m(),f(8,(u=e.loginform.get("email"))!=null&&u.errors&&((u=e.loginform.get("email"))!=null&&u.touched||(u=e.loginform.get("email"))!=null&&u.dirty)?8:-1),m(4),c("ngClass",F(11,N,!((s=e.loginform.get("password"))!=null&&s.errors)&&(((s=e.loginform.get("password"))==null?null:s.touched)||((s=e.loginform.get("password"))==null?null:s.dirty)),e.errMsg||((s=e.loginform.get("password"))==null?null:s.errors)&&(((s=e.loginform.get("password"))==null?null:s.touched)||((s=e.loginform.get("password"))==null?null:s.dirty)))),m(),f(13,(p=e.loginform.get("password"))!=null&&p.errors&&((p=e.loginform.get("password"))!=null&&p.touched||(p=e.loginform.get("password"))!=null&&p.dirty)?13:-1),m(4),f(17,e.errMsg&&!e.isloading?17:-1),m(),c("disabled",e.isloading),m(2),f(20,e.isloading?20:-1)}},dependencies:[B,T,P,M,D,L,R,x,A],styles:['@font-face{font-family:Concert One;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/concertone/v22/VEM1Ro9xs5PjtzCu-srDqSTsjP6yuQ.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Concert One;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/concertone/v22/VEM1Ro9xs5PjtzCu-srDqSTijP4.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Lilita One;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/lilitaone/v15/i7dPIFZ9Zz-WBtRtedDbYE98RWq7.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Lilita One;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/lilitaone/v15/i7dPIFZ9Zz-WBtRtedDbYEF8RQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.login[_ngcontent-%COMP%]{box-shadow:0 2px 10px #8f8f8f;margin:auto}.login-text[_ngcontent-%COMP%]{font-family:Lilita One,sans-serif;font-size:30px}.forgotPass[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--main-color)}.register-navigate[_ngcontent-%COMP%]{color:green;cursor:pointer}.register-navigate[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (min-width: 768px){.for-and-reg[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.login[_ngcontent-%COMP%]{width:50%}}@media (min-width: 992px){.login[_ngcontent-%COMP%]{width:30%}}']});let t=o;return t})();export{ne as LoginComponent};
