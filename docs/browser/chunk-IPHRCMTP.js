import{a as Y}from"./chunk-XG6EI434.js";import{a as z,c as R,g as V,m as j}from"./chunk-BN2FMV5P.js";import{a as q}from"./chunk-FIPC2RVN.js";import{a as Q}from"./chunk-NKEFFQH3.js";import{l as G}from"./chunk-TIJ5NDGT.js";import{a as $}from"./chunk-GGQOJ67K.js";import{a as Z}from"./chunk-ZKMRKIND.js";import"./chunk-SZXLN6HP.js";import{h as N}from"./chunk-K73KBK7O.js";import{j as B}from"./chunk-VS3RXJSE.js";import{Ab as U,Bb as p,Ib as d,Jb as F,Kb as P,Mb as L,Nb as k,Oa as y,Ob as M,Qb as T,Rb as O,Sa as r,Sb as b,Wb as S,Xb as I,Yb as D,ba as m,ea as w,hb as _,jb as u,kb as W,nb as C,oa as f,ob as A,pa as g,pb as x,qb as v,rb as o,sb as s,tb as l,wb as E}from"./chunk-SHLI2ADH.js";var H=(n,c)=>c.id,J=n=>["/details",n],K=()=>[1,2,3,4,5],X=n=>({"text-danger":n});function tt(n,c){if(n&1&&(o(0,"div",9)(1,"span",19),d(2),S(3,"intNum"),s()()),n&2){let i=p().$implicit;r(2),P("",I(3,1,(i.price-i.priceAfterDiscount)/i.price*100),"% off")}}function et(n,c){n&1&&(o(0,"span"),l(1,"i",20),s())}function it(n,c){if(n&1&&(o(0,"span"),l(1,"i",20),s()),n&2){let i=p().$implicit;r(),W("clip-path","inset(0 "+(100-i.ratingsAverage%1*100)+"% 0 0)")}}function nt(n,c){if(n&1){let i=E();o(0,"div",7)(1,"div",8),_(2,tt,4,3,"div",9),o(3,"div",10),l(4,"img",11),o(5,"h2",12),d(6),s(),o(7,"h3",13),d(8),s(),o(9,"div",14)(10,"span"),d(11),s(),o(12,"div",15),x(13,et,2,0,"span",null,A),_(15,it,2,2,"span"),s()()(),o(16,"span",16),U("click",function(){let t=f(i).$implicit,a=p();return g(a.addToWishList(t.id))}),l(17,"i",17),s(),o(18,"button",18),U("click",function(){let t=f(i).$implicit,a=p();return g(a.addToCart(t.id))}),d(19,"+ Add To Cart"),s()()()}if(n&2){let i=c.$implicit,e=p();r(2),C(2,i.priceAfterDiscount&&i.price!==i.priceAfterDiscount?2:-1),r(),u("routerLink",b(9,J,i.id)),r(),u("src",i.imageCover,y)("alt",i.title),r(2),F(i.category.name),r(2),F(i.title.split(" ",2).join(" ")),r(3),P("",i.price," EGP"),r(2),v(O(11,K).slice(0,i.ratingsAverage)),r(2),C(15,i.ratingsAverage%1!==0?15:-1),r(),u("ngClass",b(12,X,e.isProductinWish(i.id)))}}var Ct=(()=>{let c=class c{constructor(){this._ProductsService=m(q),this._CartService=m(Z),this._ToastrService=m(G),this.products=[],this.text="",this._WishListService=m($),this.productsInWish=[],this.productsId=[],this.wishProducts=[],this.isClicked=!1}ngOnInit(){this.productSubscribe=this._ProductsService.getAllProducts().subscribe({next:e=>{this.products=e.data},error:e=>{console.log(e),this.products=[]}}),this.getProductsInWish=this._WishListService.getProductsInWish().subscribe({next:e=>{if(this._WishListService.wishListProducts.next(e.data),this._WishListService.wishListProducts.subscribe({next:t=>{this.wishProducts=t}}),e.data.length>0){this.productsId=[];for(let t=0;t<e.data.length;t++)this.productsId.push(e.data[t].id)}else this.productsId=[]}}),this.UpdateWishNum=this._WishListService.wishItemsNumber.subscribe({next:e=>{this.productsId=e}})}addToCart(e){this.addtocart=this._CartService.addProductToCart(e).subscribe({next:t=>{this._ToastrService.success("Added to cart!","",{positionClass:"toast-top-center"}),this._CartService.cartItemsNumber.next(t.numOfCartItems)},error:t=>{console.log(t)}})}toggleClick(){return this.isClicked=!this.isClicked,this.isClicked}addToWishList(e){this.isProductinWish(e)?this.isClicked=!0:this.isClicked=!1,this.toggleClick()?this.addtowish=this._WishListService.addProductToWishList(e).subscribe({next:t=>{this._ToastrService.success("Added to wishList\u2764\uFE0F","",{positionClass:"toast-top-center"}),this._WishListService.wishItemsNumber.next(t.data),this._WishListService.productsCount.next(t.data.length)},error:t=>{console.log(t)}}):this._WishListService.removeProductFromWish(e).subscribe({next:t=>{this._WishListService.productsCount.next(t.data.length),this._ToastrService.error("Removed From WishList","",{positionClass:"toast-top-center"}),this._WishListService.wishItemsNumber.next(t.data);for(let a of this.wishProducts)e===a.id&&this.wishProducts.splice(this.wishProducts.indexOf(a),1)}})}isProductinWish(e){for(let t=0;t<this.productsId.length;t++)if(this.productsId[t]===e)return!0;return!1}ngOnDestroy(){this.productSubscribe?.unsubscribe(),this.addtocart?.unsubscribe()}};c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=w({type:c,selectors:[["app-product"]],standalone:!0,features:[T],decls:11,vars:4,consts:[[1,"my-3"],[1,"h2","text-center","product-text","text-main"],[1,"w-50","mx-auto","my-3","search-container"],["type","search","placeholder","Search By Title...",1,"search","w-100",3,"ngModelChange","ngModel"],[1,"d-block"],[1,"fa-solid","fa-magnifying-glass"],[1,"row","g-4"],[1,"col-sm-6","col-md-4","col-lg-3","col-xl-2"],[1,"p-2","bg-transparent","product","card-text","h-100","my-card"],[1,"sale","border-0"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"small","text-main","mt-1"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"stars"],[1,"d-block","cursor-pointer","my-2","heart-icon",3,"click","ngClass"],[1,"fa-solid","fa-heart","fa-xl"],[1,"btn-main","w-100","py-1",3,"click"],[1,"small"],[1,"bi","bi-star-fill","rating-color","small"]],template:function(t,a){t&1&&(o(0,"section",0)(1,"h1",1),d(2,"All Products"),s(),o(3,"div",2)(4,"input",3),M("ngModelChange",function(h){return k(a.text,h)||(a.text=h),h}),s(),o(5,"span",4),l(6,"i",5),s()(),o(7,"div",6),x(8,nt,20,14,"div",7,H),S(10,"search"),s()()),t&2&&(r(4),L("ngModel",a.text),r(4),v(D(10,1,a.products,a.text)))},dependencies:[N,Q,Y,j,z,R,V,B],styles:['@font-face{font-family:Concert One;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/concertone/v22/VEM1Ro9xs5PjtzCu-srDqSTsjP6yuQ.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Concert One;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/concertone/v22/VEM1Ro9xs5PjtzCu-srDqSTijP4.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Lilita One;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/lilitaone/v15/i7dPIFZ9Zz-WBtRtedDbYE98RWq7.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Lilita One;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/lilitaone/v15/i7dPIFZ9Zz-WBtRtedDbYEF8RQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.product-text[_ngcontent-%COMP%]{font-family:Lilita One,sans-serif;font-size:30px}.my-card[_ngcontent-%COMP%]{box-shadow:0 1px 5px #8f8f8f}.sale[_ngcontent-%COMP%]{position:absolute;padding:6px;top:0;right:0;background-color:#eeaf00}.search[_ngcontent-%COMP%]{padding:10px;border-radius:50px;background-color:transparent;color:var(--card-text);border:1px solid var(--main-color)}.search-container[_ngcontent-%COMP%]{position:relative}.search-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:6px 10px;border-radius:50px;position:absolute;top:4px;right:6px;color:#fff;background-color:var(--main-color)}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--card-text)}[_ngcontent-%COMP%]::-moz-placeholder{color:var(--card-text)}[_ngcontent-%COMP%]:-ms-input-placeholder{color:var(--card-text)}[_ngcontent-%COMP%]:-moz-placeholder{color:var(--card-text)}.heart-icon[_ngcontent-%COMP%]{color:#8080803d}@media (min-width: 768px){.search-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:7px 30px}}']});let n=c;return n})();export{Ct as ProductComponent};
