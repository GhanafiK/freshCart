import{a as N,b as F,c as B}from"./chunk-2N75QDAS.js";import{a as A}from"./chunk-FIPC2RVN.js";import{a as V}from"./chunk-NKEFFQH3.js";import{l as G}from"./chunk-TIJ5NDGT.js";import{a as O}from"./chunk-GGQOJ67K.js";import{a as M}from"./chunk-ZKMRKIND.js";import"./chunk-SZXLN6HP.js";import{e as L}from"./chunk-K73KBK7O.js";import{j as y}from"./chunk-VS3RXJSE.js";import{Ab as v,Bb as p,Ib as s,Jb as f,Kb as l,Oa as b,Qb as I,Sa as r,Sb as W,Wb as E,Xb as T,ba as m,ea as S,hb as h,jb as x,nb as g,oa as _,ob as D,pa as C,pb as P,qb as w,rb as n,sb as a,tb as u,wb as k}from"./chunk-SHLI2ADH.js";var R=o=>({"text-danger":o});function z(o,c){if(o&1&&(n(0,"div"),u(1,"img",20),a()),o&2){let e=p().$implicit,i=p(2);r(),x("src",e,b)("alt",i.productDetails.title)}}function U(o,c){o&1&&h(0,z,2,2,"ng-template",5)}function H(o,c){if(o&1&&(n(0,"span",14),s(1,"Was: "),n(2,"span",21),s(3),a(),n(4,"span",22),s(5,"Now: "),n(6,"span",23),s(7),a()(),n(8,"span",24),s(9,"Saving: "),n(10,"span",25),s(11),a(),n(12,"span",26),s(13),E(14,"intNum"),a()()()),o&2){let e=p(2);r(3),l(" EGP ",e.productDetails.price,""),r(4),l("EGP ",e.productDetails.priceAfterDiscount,""),r(4),l("EGP ",e.productDetails.price-e.productDetails.priceAfterDiscount,""),r(2),l(" ",T(14,4,(e.productDetails.price-e.productDetails.priceAfterDiscount)/e.productDetails.price*100),"% off")}}function j(o,c){if(o&1&&(n(0,"span",27),s(1,"Now: "),n(2,"span",23),s(3),a()()),o&2){let e=p(2);r(3),l("EGP ",e.productDetails.price,"")}}function q(o,c){if(o&1){let e=k();n(0,"section",0)(1,"h1",1),s(2,"Product Details"),a(),n(3,"div",2)(4,"div",3)(5,"owl-carousel-o",4),P(6,U,1,0,null,5,D),a()(),n(8,"div",6)(9,"h2",7)(10,"span"),s(11),a()(),n(12,"h3",8)(13,"span",9),s(14),a(),n(15,"span",10),s(16),u(17,"i",11),a()(),n(18,"h3",12),s(19,"category: "),n(20,"span",9),s(21),a()(),n(22,"p",13),s(23,"Description: "),n(24,"span",9),s(25),a()(),h(26,H,15,6,"span",14)(27,j,4,1),n(28,"h4",15),u(29,"i",16),s(30),a(),n(31,"span",17),v("click",function(){_(e);let t=p();return C(t.addToWishList(t.productDetails.id))}),u(32,"i",18),a(),n(33,"button",19),v("click",function(){_(e);let t=p();return C(t.addToCart(t.productDetails.id))}),s(34,"+ Add To Cart"),a()()()()}if(o&2){let e=p();r(5),x("options",e.dynamicSlider),r(),w(e.productDetails.images),r(5),l("Brand : ",e.productDetails.brand.name,""),r(3),f(e.productDetails.title),r(2),l("",e.productDetails.ratingsAverage," "),r(5),f(e.productDetails.category.name),r(4),f(e.productDetails.description),r(),g(26,e.productDetails.priceAfterDiscount?26:27),r(4),l(" Only ",e.productDetails.quantity," left in stock"),r(),x("ngClass",W(9,R,e.isProductinWish(e.productDetails.id)))}}var rt=(()=>{let c=class c{constructor(){this._ActivatedRoute=m(L),this._ProductsService=m(A),this._CartService=m(M),this.productDetails=null,this._ToastrService=m(G),this._WishListService=m(O),this.productsInWish=[],this.productsId=[],this.wishProducts=[],this.dynamicSlider={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,navSpeed:700,autoplayHoverPause:!0,navText:['<i class="fa-solid fa-angles-left fa-beat"></i>','<i class="fa-solid fa-angles-right fa-beat"></i>'],responsive:{0:{items:1},450:{items:2},600:{items:3},770:{items:5},980:{items:7}},nav:!0},this.isClicked=!1}removeDecemal(i){return Math.trunc(i)}ngOnInit(){this.getSpecificpro=this._ActivatedRoute.paramMap.subscribe({next:i=>{let t=i.get("id");this._ProductsService.getSpecificProduct(t).subscribe({next:d=>{this.productDetails=d.data},error:d=>{console.log(d)}})}}),this.getProductsInWish=this._WishListService.getProductsInWish().subscribe({next:i=>{if(this._WishListService.wishListProducts.next(i.data),this._WishListService.wishListProducts.subscribe({next:t=>{this.wishProducts=t}}),i.data.length>0){this.productsId=[];for(let t=0;t<i.data.length;t++)this.productsId.push(i.data[t].id)}else this.productsId=[]}}),this.UpdateWishNum=this._WishListService.wishItemsNumber.subscribe({next:i=>{this.productsId=i}})}addToCart(i){this.addtocart=this._CartService.addProductToCart(i).subscribe({next:t=>{this._ToastrService.success("Added to cart!","",{positionClass:"toast-top-center"}),this._CartService.cartItemsNumber.next(t.numOfCartItems)},error:t=>{console.log(t)}})}toggleClick(){return this.isClicked=!this.isClicked,this.isClicked}addToWishList(i){this.isProductinWish(i)?this.isClicked=!0:this.isClicked=!1,this.toggleClick()?this.addtowish=this._WishListService.addProductToWishList(i).subscribe({next:t=>{this._ToastrService.success("Added to wishList\u2764\uFE0F","",{positionClass:"toast-top-center"}),this._WishListService.wishItemsNumber.next(t.data),this._WishListService.productsCount.next(t.data.length)},error:t=>{console.log(t)}}):this._WishListService.removeProductFromWish(i).subscribe({next:t=>{this._WishListService.productsCount.next(t.data.length),this._ToastrService.error("Removed From WishList","",{positionClass:"toast-top-center"}),this._WishListService.wishItemsNumber.next(t.data);for(let d of this.wishProducts)i===d.id&&this.wishProducts.splice(this.wishProducts.indexOf(d),1)}})}isProductinWish(i){for(let t=0;t<this.productsId.length;t++)if(this.productsId[t]===i)return!0;return!1}ngOnDestroy(){this.getSpecificpro?.unsubscribe()}};c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=S({type:c,selectors:[["app-details"]],standalone:!0,features:[I],decls:1,vars:1,consts:[[1,"my-3","bg-main-light","container","rounded-4","product-details"],[1,"text-main","text-center","py-3"],[1,"row"],[1,"col-md-3"],[3,"options"],["carouselSlide",""],[1,"col-md-9","px-3","card-text","mb-3"],[1,"h5","text-main-muted","fw-bolder"],[1,"h5","text-main","fw-bold","mb-3","pt-2","pb-3","title"],[1,"card-text"],[1,"ps-2","ms-4","star","card-text"],[1,"bi","bi-star-fill","rating-color","small"],[1,"h6","text-main"],[1,"text-main","my-2"],[1,"text-main-muted"],[1,"inStock","text-main-muted","fw-bold"],[1,"bi","bi-bag-check"],[1,"d-block","cursor-pointer","my-2","heart-icon",3,"click","ngClass"],[1,"fa-solid","fa-heart","fa-xl"],[1,"btn-main","w-100","py-1",3,"click"],[1,"w-100",3,"src","alt"],[1,"priceBefore","small","fw-bold"],[1,"text-main","d-block"],[1,"card-text","fw-bolder"],[1,"d-block","text-main","saving"],[1,"fw-bold","card-text"],[1,"off"],[1,"text-main"]],template:function(t,d){t&1&&h(0,q,35,11,"section",0),t&2&&g(0,d.productDetails?0:-1)},dependencies:[B,F,N,V,y],styles:[".product-details[_ngcontent-%COMP%]{box-shadow:0 2px 10px #8f8f8f}.priceBefore[_ngcontent-%COMP%]{text-decoration:line-through}.title[_ngcontent-%COMP%]{border-bottom:1px solid #8f8f8f}.star[_ngcontent-%COMP%]{border-left:4px solid #8f8f8f}.inStock[_ngcontent-%COMP%]{font-size:15px;margin-top:10px}.inStock[_ngcontent-%COMP%]   .bi[_ngcontent-%COMP%]{color:#c45f06}.current-price[_ngcontent-%COMP%]{background-color:#d77f01}.saving[_ngcontent-%COMP%]{font-size:15px;margin-block:5px}.saving[_ngcontent-%COMP%]   .off[_ngcontent-%COMP%]{background:#dff1d9;color:#37ae02;margin-left:10px;padding-inline:5px}.heart-icon[_ngcontent-%COMP%]{color:#8080803d}"]});let o=c;return o})();export{rt as DetailsComponent};
