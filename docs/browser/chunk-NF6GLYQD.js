import{a as X}from"./chunk-LFNRESNV.js";import{a as ie}from"./chunk-XG6EI434.js";import{a as Q,c as U,g as R,m as q}from"./chunk-BN2FMV5P.js";import{a as Y,b as Z,c as ee}from"./chunk-2N75QDAS.js";import{a as K}from"./chunk-FIPC2RVN.js";import{a as te}from"./chunk-NKEFFQH3.js";import{l as ne}from"./chunk-TIJ5NDGT.js";import{a as J}from"./chunk-GGQOJ67K.js";import{a as G}from"./chunk-ZKMRKIND.js";import"./chunk-SZXLN6HP.js";import{h as z}from"./chunk-K73KBK7O.js";import{j as B}from"./chunk-VS3RXJSE.js";import{Ab as w,Bb as p,Fb as O,Gb as E,Hb as F,Ib as d,Jb as f,Kb as P,Mb as H,Nb as A,Oa as b,Ob as D,Qb as N,Rb as j,Sa as s,Sb as T,Wb as W,Xb as V,Yb as $,ba as u,ea as k,hb as h,jb as m,kb as M,nb as y,oa as C,ob as I,pa as S,pb as g,qb as _,rb as o,sb as a,tb as l,wb as L}from"./chunk-SHLI2ADH.js";var re=["heartIcon"],oe=(e,r)=>r._id,se=(e,r)=>r.id,ae=e=>["/details",e],ce=()=>[1,2,3,4,5],le=e=>({"text-danger":e});function de(e,r){e&1&&l(0,"img",15)}function me(e,r){e&1&&l(0,"img",16)}function pe(e,r){e&1&&l(0,"img",17)}function ue(e,r){e&1&&l(0,"img",18)}function he(e,r){e&1&&l(0,"img",19)}function ge(e,r){if(e&1&&(o(0,"div"),l(1,"img",20),o(2,"h3",21),d(3),a()()),e&2){let n=p().$implicit;s(),m("src",n.image,b)("alt",n.name),s(2),f(n.name)}}function _e(e,r){e&1&&h(0,ge,4,3,"ng-template",4)}function fe(e,r){if(e&1&&(o(0,"div",23)(1,"span",33),d(2),W(3,"intNum"),a()()),e&2){let n=p().$implicit;s(2),P("",V(3,1,(n.price-n.priceAfterDiscount)/n.price*100),"% off")}}function xe(e,r){e&1&&(o(0,"span"),l(1,"i",34),a())}function ve(e,r){if(e&1&&(o(0,"span"),l(1,"i",34),a()),e&2){let n=p().$implicit;s(),M("clip-path","inset(0 "+(100-n.ratingsAverage%1*100)+"% 0 0)")}}function Ce(e,r){if(e&1){let n=L();o(0,"div",14)(1,"div",22),h(2,fe,4,3,"div",23),o(3,"div",24),l(4,"img",25),o(5,"h2",26),d(6),a(),o(7,"h3",27),d(8),a(),o(9,"div",28)(10,"span"),d(11),a(),o(12,"div",29),g(13,xe,2,0,"span",null,I),h(15,ve,2,2,"span"),a()()(),o(16,"span",30),w("click",function(){let t=C(n).$implicit,c=p();return S(c.addToWishList(t.id))}),l(17,"i",31),a(),o(18,"button",32),w("click",function(){let t=C(n).$implicit,c=p();return S(c.addToCart(t.id))}),d(19,"+ Add To Cart"),a()()()}if(e&2){let n=r.$implicit,i=p();s(2),y(2,n.priceAfterDiscount&&n.price!==n.priceAfterDiscount?2:-1),s(),m("routerLink",T(9,ae,n.id)),s(),m("src",n.imageCover,b)("alt",n.title),s(2),f(n.category.name),s(2),f(n.title.split(" ",2).join(" ")),s(3),P("",n.price," EGP"),s(2),_(j(11,ce).slice(0,n.ratingsAverage)),s(2),y(15,n.ratingsAverage%1!==0?15:-1),s(),m("ngClass",T(12,le,i.isProductinWish(n.id)))}}var Ne=(()=>{let r=class r{constructor(){this._ProductsService=u(K),this._CategoriesService=u(X),this._CartService=u(G),this._ToastrService=u(ne),this._WishListService=u(J),this.products=[],this.categories=[],this.text="",this.productsInWish=[],this.productsId=[],this.wishProducts=[],this.dynamicSlider={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,navSpeed:700,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,navText:["",""],responsive:{0:{items:1},450:{items:2},600:{items:3},770:{items:5},980:{items:7}},nav:!0},this.mainSlider={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,navSpeed:700,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,navText:["",""],responsive:{0:{items:1}},nav:!1},this.isClicked=!1}ngOnInit(){this.allCategorySubscribe=this._CategoriesService.getAllCategories().subscribe({next:i=>{this.categories=i.data},error:i=>{console.log(i)}}),this.getAllProducts=this._ProductsService.getAllProducts().subscribe({next:i=>{this.products=i.data},error:i=>{console.log(i),this.products=[]}}),this.getProductsInWish=this._WishListService.getProductsInWish().subscribe({next:i=>{if(this._WishListService.wishListProducts.next(i.data),this._WishListService.wishListProducts.subscribe({next:t=>{this.wishProducts=t}}),i.data.length>0){this.productsId=[];for(let t=0;t<i.data.length;t++)this.productsId.push(i.data[t].id)}else this.productsId=[]}}),this.UpdateWishNum=this._WishListService.wishItemsNumber.subscribe({next:i=>{this.productsId=i}})}addToCart(i){this.addtocart=this._CartService.addProductToCart(i).subscribe({next:t=>{this._ToastrService.success("Added to cart!","",{positionClass:"toast-top-center"}),this._CartService.cartItemsNumber.next(t.numOfCartItems)},error:t=>{console.log(t)}})}toggleClick(){return this.isClicked=!this.isClicked,this.isClicked}addToWishList(i){this.isProductinWish(i)?this.isClicked=!0:this.isClicked=!1,this.toggleClick()?this.addtowish=this._WishListService.addProductToWishList(i).subscribe({next:t=>{this._ToastrService.success("Added to wishList\u2764\uFE0F","",{positionClass:"toast-top-center"}),this._WishListService.wishItemsNumber.next(t.data),this._WishListService.productsCount.next(t.data.length)},error:t=>{console.log(t)}}):this._WishListService.removeProductFromWish(i).subscribe({next:t=>{this._WishListService.productsCount.next(t.data.length),this._ToastrService.error("Removed From WishList","",{positionClass:"toast-top-center"}),this._WishListService.wishItemsNumber.next(t.data);for(let c of this.wishProducts)i===c.id&&this.wishProducts.splice(this.wishProducts.indexOf(c),1)}})}isProductinWish(i){for(let t=0;t<this.productsId.length;t++)if(this.productsId[t]===i)return!0;return!1}ngOnDestroy(){this.getAllProducts?.unsubscribe(),this.allCategorySubscribe?.unsubscribe(),this.addtocart?.unsubscribe(),this.getProductsInWish?.unsubscribe(),this.UpdateWishNum?.unsubscribe()}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=k({type:r,selectors:[["app-home"]],viewQuery:function(t,c){if(t&1&&O(re,5),t&2){let x;E(x=F())&&(c.heartIcon=x.first)}},standalone:!0,features:[N],decls:28,vars:6,consts:[[1,"my-3"],[1,"row","g-0"],[1,"col-md-9"],[3,"options"],["carouselSlide",""],[1,"col-md-3","mainSlider"],["src","./assets/images/gallery11.jpg","height","200px","alt","",1,"w-100"],["src","./assets/images/gallery12.jpg","height","200px","alt","",1,"w-100"],[1,"text-main","my-2"],[1,"w-50","mx-auto","my-3","search-container"],["type","search","placeholder","Search By Title...",1,"search","w-100",3,"ngModelChange","ngModel"],[1,"d-block"],[1,"fa-solid","fa-magnifying-glass"],[1,"row","g-4"],[1,"col-sm-6","col-md-4","col-lg-3","col-xl-2"],["src","./assets/images/gallery02.jpg","height","400px","alt","",1,"w-100"],["src","./assets/images/gallery10.png","height","400px","alt","",1,"w-100"],["src","./assets/images/slider-image-1.jpeg","height","400px","alt","",1,"w-100"],["src","./assets/images/slider-image-2.jpeg","height","400px","alt","",1,"w-100"],["src","./assets/images/slider-image-3.jpeg","height","400px","alt","",1,"w-100"],["height","200px",1,"w-100",3,"src","alt"],[1,"text-main","h6","text-center","fw-bolder"],[1,"p-2","bg-transparent","product","card-text","h-100","my-card"],[1,"sale","border-0"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"small","text-main","mt-1"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"stars"],[1,"d-block","cursor-pointer","my-2","heart-icon",3,"click","ngClass"],[1,"fa-solid","fa-heart","fa-xl"],[1,"btn-main","w-100","py-1",3,"click"],[1,"small"],[1,"bi","bi-star-fill","rating-color","small"]],template:function(t,c){t&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"owl-carousel-o",3),h(4,de,1,0,"ng-template",4)(5,me,1,0,"ng-template",4)(6,pe,1,0,"ng-template",4)(7,ue,1,0,"ng-template",4)(8,he,1,0,"ng-template",4),a()(),o(9,"div",5)(10,"div"),l(11,"img",6)(12,"img",7),a()()()(),o(13,"section",0)(14,"h2",8),d(15,"Shop Popular Categories:"),a(),o(16,"owl-carousel-o",3),g(17,_e,1,0,null,4,oe),a()(),o(19,"section",0)(20,"div",9)(21,"input",10),D("ngModelChange",function(v){return A(c.text,v)||(c.text=v),v}),a(),o(22,"span",11),l(23,"i",12),a()(),o(24,"div",13),g(25,Ce,20,14,"div",14,se),W(27,"search"),a()()),t&2&&(s(3),m("options",c.mainSlider),s(13),m("options",c.dynamicSlider),s(),_(c.categories),s(4),H("ngModel",c.text),s(4),_($(27,3,c.products.slice(0,12),c.text)))},dependencies:[ee,Z,Y,z,te,q,Q,U,R,ie,B],styles:[".my-card[_ngcontent-%COMP%]{box-shadow:0 1px 5px #8f8f8f}.sale[_ngcontent-%COMP%]{position:absolute;padding:6px;top:0;right:0;background-color:#eeaf00}.search[_ngcontent-%COMP%]{padding:10px;border-radius:50px;background-color:transparent;color:var(--card-text);border:1px solid var(--main-color)}.search-container[_ngcontent-%COMP%]{position:relative}.search-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:6px 10px;border-radius:50px;position:absolute;top:4px;right:6px;color:#fff;background-color:var(--main-color)}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--card-text)}[_ngcontent-%COMP%]::-moz-placeholder{color:var(--card-text)}[_ngcontent-%COMP%]:-ms-input-placeholder{color:var(--card-text)}[_ngcontent-%COMP%]:-moz-placeholder{color:var(--card-text)}.heart-icon[_ngcontent-%COMP%]{color:#8080803d}@media (min-width: 0px){.mainSlider[_ngcontent-%COMP%]{display:none}}@media (min-width: 768px){.mainSlider[_ngcontent-%COMP%]{display:block}.search-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:7px 30px}}"]});let e=r;return e})();export{Ne as HomeComponent};
